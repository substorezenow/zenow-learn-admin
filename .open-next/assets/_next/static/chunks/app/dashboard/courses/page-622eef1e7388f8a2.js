(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{5086:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(5155),i=t(2115),a=t(6191),l=t(7937),n=t(5299),d=t(7828),o=t(532),c=t(1010),u=t(1360),m=t(5239),h=t(9036),g=t(5229),x=t(6046);let p=e=>{if(!e)return"";try{if(e.startsWith("["))return JSON.parse(e).join("\n");return e}catch(s){return e}},b=e=>{if(!e||""===e.trim())return null;let s=e.split("\n").filter(e=>""!==e.trim());return s.length>0?JSON.stringify(s):null};function f(e){let{course:s,isOpen:t,onClose:a,onSuccess:l}=e,[n,d]=(0,i.useState)([]),[o,c]=(0,i.useState)({title:"",slug:"",description:"",short_description:"",banner_image:"",thumbnail_image:"",duration_hours:0,difficulty_level:"beginner",price:0,is_free:!1,is_published:!1,field_id:"1111116658137858049",instructor_id:"1",prerequisites:"",learning_outcomes:"",tags:""}),[u,m]=(0,i.useState)(!1),[f,y]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(s){var e,t;c({title:s.title||"",slug:s.slug||"",description:s.description||"",short_description:s.short_description||"",banner_image:s.banner_image||"",thumbnail_image:s.thumbnail_image||"",duration_hours:s.duration_hours||0,difficulty_level:(s.difficulty_level||"beginner").toLowerCase(),price:s.price||0,is_free:null!=(e=s.is_free)&&e,is_published:null!=(t=s.is_published)&&t,field_id:String(s.field_id)||"1111116658137858049",instructor_id:String(s.instructor_id)||"1",prerequisites:s.prerequisites||"",learning_outcomes:p(s.learning_outcomes||null),tags:s.tags||""})}else c({title:"",slug:"",description:"",short_description:"",banner_image:"",thumbnail_image:"",duration_hours:0,difficulty_level:"beginner",price:0,is_free:!1,is_published:!1,field_id:"1111116658137858049",instructor_id:"1",prerequisites:"",learning_outcomes:"",tags:""})},[s]),(0,i.useEffect)(()=>{(async()=>{try{let e=await h.A.getFieldsAdmin();e.success&&e.data&&d(e.data)}catch(e){console.error("Error fetching fields:",e)}})()},[]);let v=e=>{let{name:s,value:t,type:r}=e.target;if("title"!==s||o.slug)c(i=>({...i,[s]:"checkbox"===r?e.target.checked:"number"===r?Number(t):t}));else{let e=t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");c(r=>({...r,[s]:t,slug:e}))}},j=async e=>{e.preventDefault(),m(!0),y(null);try{var t,r,i,n;let e;if(s){let i={};o.title!==s.title&&(i.title=o.title||""),o.slug!==s.slug&&(i.slug=o.slug||""),o.description!==s.description&&(i.description=o.description||""),o.short_description!==s.short_description&&(i.short_description=o.short_description||null),o.banner_image!==s.banner_image&&(i.banner_image=o.banner_image||null),o.thumbnail_image!==s.thumbnail_image&&(i.thumbnail_image=o.thumbnail_image||null),Number(o.duration_hours)!==s.duration_hours&&(i.duration_hours=Number(o.duration_hours)||0),(o.difficulty_level||"beginner").toLowerCase()!==s.difficulty_level&&(i.difficulty_level=(o.difficulty_level||"beginner").toLowerCase()),Number(o.price)!==s.price&&(i.price=Number(o.price)||0),o.is_free!==s.is_free&&(i.is_free=null!=(t=o.is_free)&&t),o.is_published!==s.is_published&&(i.is_published=null!=(r=o.is_published)&&r),String(o.field_id)!==String(s.field_id)&&(i.field_id=String(o.field_id)||"1111116658137858049"),o.prerequisites!==s.prerequisites&&(i.prerequisites=o.prerequisites||null);let a=p(s.learning_outcomes||null);o.learning_outcomes!==a&&(i.learning_outcomes=b(o.learning_outcomes||"")),o.tags!==s.tags&&(i.tags=o.tags&&""!==o.tags.trim()?o.tags:null),e=await h.A.updateCourse(s.id,i)}else{let s={title:o.title||"",slug:o.slug||"",description:o.description||"",short_description:o.short_description||null,banner_image:o.banner_image||null,thumbnail_image:o.thumbnail_image||null,duration_hours:Number(o.duration_hours)||0,difficulty_level:(o.difficulty_level||"beginner").toLowerCase(),price:Number(o.price)||0,is_free:null!=(i=o.is_free)&&i,is_published:null!=(n=o.is_published)&&n,field_id:String(o.field_id)||"1111116658137858049",instructor_id:"1",prerequisites:o.prerequisites||null,learning_outcomes:b(o.learning_outcomes||""),tags:o.tags||void 0};e=await h.A.createCourse(s)}e.success&&e.data?(l(e.data),a()):y(e.error||"Failed to save course")}catch(e){console.error("Error saving course:",e),y("Error saving course")}finally{m(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:s?"Edit Course":"Create New Course"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(g.A,{className:"w-6 h-6"})})]}),f&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:f}),(0,r.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Title *"}),(0,r.jsx)("input",{type:"text",id:"title",name:"title",value:o.title,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., React Fundamentals"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug *"}),(0,r.jsx)("input",{type:"text",id:"slug",name:"slug",value:o.slug,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., react-fundamentals"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{id:"description",name:"description",value:o.description,onChange:v,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Detailed course description"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"short_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),(0,r.jsx)("input",{type:"text",id:"short_description",name:"short_description",value:o.short_description,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief course summary"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"banner_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Image URL"}),(0,r.jsx)("input",{type:"url",id:"banner_image",name:"banner_image",value:o.banner_image,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/banner.jpg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"thumbnail_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Thumbnail Image URL"}),(0,r.jsx)("input",{type:"url",id:"thumbnail_image",name:"thumbnail_image",value:o.thumbnail_image,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"duration_hours",className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (Hours)"}),(0,r.jsx)("input",{type:"number",id:"duration_hours",name:"duration_hours",value:o.duration_hours,onChange:v,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"difficulty_level",className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty Level"}),(0,r.jsxs)("select",{id:"difficulty_level",name:"difficulty_level",value:o.difficulty_level,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"beginner",children:"Beginner"}),(0,r.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,r.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),(0,r.jsx)("input",{type:"number",id:"price",name:"price",value:o.price,onChange:v,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"field_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Field"}),(0,r.jsxs)("select",{id:"field_id",name:"field_id",value:o.field_id,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Select a field"}),n.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"instructor_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor ID"}),(0,r.jsx)("input",{type:"number",id:"instructor_id",name:"instructor_id",value:o.instructor_id,onChange:v,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"prerequisites",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prerequisites"}),(0,r.jsx)("textarea",{id:"prerequisites",name:"prerequisites",value:o.prerequisites,onChange:v,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"What students should know before taking this course"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"learning_outcomes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Learning Outcomes"}),(0,r.jsx)("textarea",{id:"learning_outcomes",name:"learning_outcomes",value:o.learning_outcomes,onChange:v,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter each learning outcome on a new line: Learn React fundamentals Build interactive components Understand state management"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),(0,r.jsx)("input",{type:"text",id:"tags",name:"tags",value:o.tags,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"react,frontend,javascript"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"is_free",name:"is_free",checked:o.is_free,onChange:v,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"is_free",className:"ml-2 block text-sm text-gray-900",children:"Free Course"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"is_published",name:"is_published",checked:o.is_published,onChange:v,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"is_published",className:"ml-2 block text-sm text-gray-900",children:"Published"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[u?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,r.jsx)(x.A,{className:"w-4 h-4"}),u?"Saving...":s?"Update Course":"Create Course"]})]})]})]})}):null}function y(){let[e,s]=(0,i.useState)([]),[t,g]=(0,i.useState)(!0),[x,p]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[v,j]=(0,i.useState)(null),[_,N]=(0,i.useState)("all"),[w,C]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),[F,A]=(0,i.useState)(null);(0,i.useEffect)(()=>{q()},[]),(0,i.useEffect)(()=>{if(F){let e=setTimeout(()=>A(null),3e3);return()=>clearTimeout(e)}},[F]);let q=async()=>{try{g(!0),p(null);let e=await h.A.getCoursesAdmin();e.success&&e.data?s(e.data):p("Failed to fetch courses")}catch(e){console.error("Error fetching courses:",e),p("Error loading courses")}finally{g(!1)}},E=async t=>{if(confirm("Are you sure you want to delete this course?")){S(t);try{(await h.A.deleteCourse(t)).success?(s(e.filter(e=>e.id!==t)),A({message:"Course deleted successfully",type:"success"})):A({message:"Failed to delete course",type:"error"})}catch(e){console.error("Error deleting course:",e),A({message:"Error deleting course",type:"error"})}finally{S(null)}}},T=async t=>{C(t.id);try{let r={title:t.title,slug:t.slug,description:t.description,short_description:t.short_description||null,banner_image:t.banner_image||null,thumbnail_image:t.thumbnail_image||null,duration_hours:Number(t.duration_hours),difficulty_level:(t.difficulty_level||"beginner").toLowerCase(),price:Number(t.price),is_free:t.is_free,is_published:!t.is_published,field_id:String(t.field_id),instructor_id:t.instructor_id?String(t.instructor_id):void 0,prerequisites:t.prerequisites||null,learning_outcomes:t.learning_outcomes||null,course_modules:t.course_modules,tags:t.tags};(await h.A.updateCourse(t.id,r)).success?(s(e.map(e=>e.id===t.id?{...e,is_published:!e.is_published}:e)),A({message:"Course ".concat(t.is_published?"unpublished":"published"," successfully"),type:"success"})):A({message:"Failed to update course",type:"error"})}catch(e){console.error("Error updating course:",e),A({message:"Error updating course",type:"error"})}finally{C(null)}},D=e.filter(e=>"published"===_?e.is_published:"draft"!==_||!e.is_published);return t?(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64"})}),(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"})})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsx)("tr",{children:[...Array(7)].map((e,s)=>(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})})},s))})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)("tr",{children:[...Array(7)].map((e,s)=>(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"})})},s))},s))})]})})]})]}):x?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-red-500 text-xl mb-4",children:"⚠️"}),(0,r.jsx)("p",{className:"text-red-600",children:x}),(0,r.jsx)("button",{onClick:q,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Courses Management"}),(0,r.jsxs)("button",{onClick:()=>y(!0),className:"group relative flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 active:scale-95",children:[(0,r.jsx)(a.A,{className:"w-4 h-4 transition-transform group-hover:rotate-90 duration-200"}),(0,r.jsx)("span",{className:"font-semibold",children:"Add Course"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-white rounded-lg opacity-0 group-hover:opacity-10 transition-opacity duration-200"})]})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-1",children:(0,r.jsx)("nav",{className:"flex space-x-1",children:[{key:"all",label:"All Courses",count:e.length},{key:"published",label:"Published",count:e.filter(e=>e.is_published).length},{key:"draft",label:"Drafts",count:e.filter(e=>!e.is_published).length}].map(e=>(0,r.jsxs)("button",{onClick:()=>N(e.key),className:"group relative flex-1 py-3 px-4 rounded-md font-medium text-sm transition-all duration-200 ".concat(_===e.key?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)("span",{className:"relative z-10",children:e.label}),(0,r.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-semibold ".concat(_===e.key?"bg-blue-500 text-white":"bg-gray-200 text-gray-600 group-hover:bg-gray-300"),children:e.count})]},e.key))})})}),(0,r.jsx)("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden border border-gray-200",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category / Field"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Difficulty"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map((e,s)=>(0,r.jsxs)("tr",{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 transition-all duration-200 hover:shadow-sm border-b border-gray-100 hover:border-gray-200",style:{animationDelay:"".concat(50*s,"ms")},children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-12 w-12 group-hover:scale-105 transition-transform duration-200",children:e.thumbnail_image?(0,r.jsx)(m.default,{className:"h-12 w-12 rounded-lg object-cover shadow-sm group-hover:shadow-md transition-shadow duration-200",src:e.thumbnail_image||"",alt:e.title,width:48,height:48}):(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center shadow-sm group-hover:shadow-md transition-all duration-200",children:(0,r.jsx)(l.A,{className:"w-6 h-6 text-gray-600 group-hover:text-gray-700 transition-colors duration-200"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.short_description}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:[e.duration_hours,"h • ",e.slug]})]})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.category_name}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.field_name})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((e=>{switch(e.toLowerCase()){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.difficulty_level||"beginner")),children:e.difficulty_level||"Beginner"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.is_free?(0,r.jsx)("span",{className:"text-green-600 font-medium",children:"Free"}):"$".concat(e.price)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("button",{onClick:()=>T(e),disabled:w===e.id,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-colors duration-200 ".concat(w===e.id?"bg-gray-100 text-gray-500 cursor-not-allowed":e.is_published?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"),children:w===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{className:"w-3 h-3 animate-spin"}),(0,r.jsx)("span",{children:"Updating..."})]}):e.is_published?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Published"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Draft"})]})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{children:e.enrolled_students}),e.rating&&e.rating>0&&(0,r.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["⭐ ",e.rating.toFixed(1)," (",e.total_ratings||0,")"]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsxs)("button",{onClick:()=>j(e),className:"group relative p-2 text-indigo-600 hover:text-indigo-900 hover:bg-indigo-50 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95",title:"Edit course",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 transition-transform group-hover:rotate-12"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-indigo-100 rounded-lg opacity-0 group-hover:opacity-20 transition-opacity duration-200"})]}),(0,r.jsx)("button",{onClick:()=>E(e.id),disabled:k===e.id,className:"group relative p-2 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 ".concat(k===e.id?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-900 hover:bg-red-50"),title:"Delete course",children:k===e.id?(0,r.jsx)(n.A,{className:"w-4 h-4 animate-spin"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"w-4 h-4 transition-transform group-hover:rotate-12"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-red-100 rounded-lg opacity-0 group-hover:opacity-20 transition-opacity duration-200"})]})})]})})]},e.id))})]})})}),0===D.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(l.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"all"===_?"No courses found. Create your first course!":"No ".concat(_," courses found.")})]}),(0,r.jsx)(f,{course:v,isOpen:b||null!==v,onClose:()=>{y(!1),j(null)},onSuccess:t=>{v?s(e.map(e=>e.id===t.id?t:e)):s([...e,t]),y(!1),j(null)}}),F&&(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right duration-300",children:(0,r.jsxs)("div",{className:"group relative px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 backdrop-blur-sm border ".concat("success"===F.type?"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-400":"bg-gradient-to-r from-red-500 to-red-600 text-white border-red-400"),children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center ".concat((F.type,"bg-white bg-opacity-20")),children:(0,r.jsx)("span",{className:"text-sm",children:"success"===F.type?"✓":"✕"})})}),(0,r.jsx)("span",{className:"font-medium",children:F.message}),(0,r.jsx)("button",{onClick:()=>A(null),className:"ml-2 p-1 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors duration-200 group-hover:scale-110",children:(0,r.jsx)("span",{className:"text-lg leading-none",children:"\xd7"})}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-white bg-opacity-30 rounded-full animate-pulse"})]})})]})}},5229:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5299:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6046:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6774:(e,s,t)=>{Promise.resolve().then(t.bind(t,5086))},7937:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},9036:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});class r{async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(this.baseURL).concat(e),r={headers:{"Content-Type":"application/json",...s.headers},...s},i=await fetch(t,{...r,credentials:"include"});if(!i.ok){if(401===i.status)throw window.location.href="/login",Error("Session expired");if(403===i.status)throw window.location.href="/login",Error("Access denied");throw Error("HTTP error! status: ".concat(i.status))}return i.json()}clearSession(){fetch("/api/auth/logout",{method:"POST",credentials:"include"})}async getAdminStats(){return this.request("/admin/stats")}async getCategoriesAdmin(){return this.request("/admin/categories")}async createCategory(e){return this.request("/admin/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,s){return this.request("/admin/categories/".concat(e),{method:"PUT",body:JSON.stringify(s)})}async deleteCategory(e){return this.request("/admin/categories/".concat(e),{method:"DELETE"})}async getFieldsAdmin(){return this.request("/admin/fields")}async createField(e){return this.request("/admin/fields",{method:"POST",body:JSON.stringify(e)})}async updateField(e,s){return this.request("/admin/fields/".concat(e),{method:"PUT",body:JSON.stringify(s)})}async deleteField(e){return this.request("/admin/fields/".concat(e),{method:"DELETE"})}async getCoursesAdmin(){return this.request("/admin/courses")}async createCourse(e){return this.request("/admin/courses",{method:"POST",body:JSON.stringify(e)})}async updateCourse(e,s){return this.request("/admin/courses/".concat(e),{method:"PUT",body:JSON.stringify(s)})}async deleteCourse(e){return this.request("/admin/courses/".concat(e),{method:"DELETE"})}async createCourseModule(e,s){return this.request("/admin/courses/".concat(e,"/modules"),{method:"POST",body:JSON.stringify(s)})}async updateCourseModule(e,s){return this.request("/admin/modules/".concat(e),{method:"PUT",body:JSON.stringify(s)})}async deleteCourseModule(e){return this.request("/admin/modules/".concat(e),{method:"DELETE"})}async getCategoriesForDropdown(){let e=await this.getCategoriesAdmin();return e.success&&e.data?e.data.map(e=>({value:e.id,label:e.name,slug:e.slug})):[]}async getFieldsForDropdown(){let e=await this.getFieldsAdmin();return e.success&&e.data?e.data.map(e=>({value:e.id,label:e.name,slug:e.slug,category_id:e.id})):[]}async getFieldsByCategoryForDropdown(e){let s=await this.getFieldsAdmin();return s.success&&s.data?s.data.filter(s=>s.id===e).map(e=>({value:e.id,label:e.name,slug:e.slug})):[]}async uploadFile(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image",t=new FormData;return t.append("file",e),t.append("type",s),this.request("/admin/upload",{method:"POST",headers:{},body:t})}constructor(){this.baseURL="/api"}}let i=new r}},e=>{e.O(0,[563,441,255,358],()=>e(e.s=6774)),_N_E=e.O()}]);